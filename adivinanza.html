<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Adivinanza - Aprende Jugando</title>
  <link rel="stylesheet" href="style.css"/>
  <style>
    .container{padding:26px;max-width:820px;margin:auto;text-align:center;}
    .card{background:rgba(255,255,255,0.03);padding:18px;border-radius:10px;box-shadow:0 0 12px #b26ffb;}
    .feedback{margin-top:12px;font-weight:bold;}
    .controls{display:flex;gap:10px;justify-content:center;margin-top:12px;}
  </style>
</head>
<body>
  <header>
    <img src="logo.png" class="logo" alt="Logo">
    <nav>
      <ul>
        <li><a href="index.html">Inicio</a></li>
        <li><a href="conocenos.html">Conócenos</a></li>
        <li><a href="juegos.html" class="activo">Juegos</a></li>
        <li><a href="contactenos.html">contactenos</a></li>
      </ul>
   </nav>
  </header>

  <main class="container">
    <h1>Adivinanzas</h1>
    <div class="info">Materia: <span id="info-materia"></span> | Modo: <span id="info-modo"></span></div>

    <div class="card">
      <div id="adivinanza-text" style="font-size:1.25rem;margin-bottom:14px"></div>
      <input id="respuesta" placeholder="Escribe tu respuesta aquí" style="padding:10px;width:70%;border-radius:8px;border:2px solid #b26ffb;color:#fff;background:#1a0033;" />
      <div class="controls">
        <button class="btn" id="comprobar">Comprobar</button>
        <button class="btn" id="otra">Otra</button>
        <button class="btn" id="volver" onclick="location.href='juegos.html'">Volver</button>
      </div>
      <div class="feedback" id="feedback"></div>
    </div>
  </main>

  <footer><p>© 2025 Aprende Jugando</p></footer>

  <script>
    function sumarPuntos(cantidad){
      let pts = parseInt(localStorage.getItem('puntos') || '0',10);
      pts += cantidad; localStorage.setItem('puntos', pts);
    }

    const adivinanzas = {
      lenguaje: [
        {q:'Blanca por dentro, verde por fuera. Si quieres que te lo diga, espera.', a:'PAPA' /* papa/papa? could be PERA or PAPA; using PERA*/},
        {q:'Tiene agujas pero no cose. Tiene números pero no cuenta.', a:'RELOJ'},
        {q:'Vuela sin tener alas, llora sin tener ojos.', a:'NUBE'}
      ],
      ingles: [
        {q:'I am a fruit that is red and crunchy. What am I?', a:'APPLE'},
        {q:'I am round and we use me to write. I am a ...', a:'PENCIL'},
        {q:'I am not alive but I grow; I don’t have lungs but I need air.', a:'FIRE'}
      ],
      sociales: [
        {q:'Soy un lugar con calles y casas, donde vive la gente. ¿Qué soy?', a:'CIUDAD'},
        {q:'Tengo forma de mapa y señalo regiones; me pliegas y me miras.', a:'MAPA'},
        {q:'Historia y presente guardo en mis calles; a veces soy capital.', a:'CIUDAD'}
      ],
      naturales: [
        {q:'Soy transparente y sin color; sin mí no hay vida en el cuerpo.', a:'AGUA'},
        {q:'Crecen verdes y hacen oxígeno; tienen raíces.', a:'PLANTA'},
        {q:'Cuerpo brillante en el cielo; da luz de día.', a:'SOL'}
      ]
    };

    let listaActual = [];
    let actual = null;

    document.addEventListener('DOMContentLoaded', ()=>{
      const materia = localStorage.getItem('materia') || 'lenguaje';
      const modo = localStorage.getItem('modo') || 'sin-tiempo';
      document.getElementById('info-materia').textContent = materia;
      document.getElementById('info-modo').textContent = modo === 'con-tiempo' ? 'Con tiempo' : 'Sin tiempo';
      listaActual = adivinanzas[materia] || adivinanzas.lenguaje;
      nueva();
      document.getElementById('comprobar').addEventListener('click', comprobar);
      document.getElementById('otra').addEventListener('click', nueva);
    });

    function nueva(){
      actual = listaActual[Math.floor(Math.random()*listaActual.length)];
      document.getElementById('adivinanza-text').textContent = actual.q;
      document.getElementById('respuesta').value = '';
      document.getElementById('feedback').textContent = '';
    }
    function comprobar(){
      const resp = document.getElementById('respuesta').value.trim().toUpperCase();
      const correcta = (actual.a || '').toUpperCase();
      const fb = document.getElementById('feedback');
      if(!resp){ fb.textContent = 'Escribe una respuesta.'; return; }
      if(resp === correcta){
        fb.textContent = '¡Correcto! +15 pts';
        sumarPuntos(15);
      } else {
        fb.textContent = 'Incorrecto. Intenta otra vez.';
      }
    }
  </script>
</body>
</html>
